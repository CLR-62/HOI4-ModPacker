<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="450" d:DesignHeight="550"
        Width="450" Height="550"
        x:Class="ModPacker.UI.MainWindow"
        Title="PiratePacker"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        Loaded="WindowOnLoaded">
    
    <Panel>
        <Grid RowDefinitions="32, *, 10, 20">
            <Border Grid.Row="0" Background="#1F1F1F" x:Name="HeadPanel">
            <Grid ColumnDefinitions="Auto, *, Auto, Auto, Auto">
                <Image Grid.Column="0" Source="../Assets/piratePackerIcon.png" Width="24" Height="24" Margin="12,0,8,0"></Image>
                <!--<TextBlock Grid.Column="0" Text="&#xE724;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center" Margin="12,0,8,0" Foreground="White" FontSize="14"/>-->
                <TextBlock Grid.Column="1" Text="PiratePacker" VerticalAlignment="Center" Foreground="White" FontSize="14"/>
                
                <Button Grid.Column="2" Classes="TitleBarButton" Content="⚙️" Click="OnSettingClick"  FontSize="20" Foreground="White" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                <Button Grid.Column="3" Classes="TitleBarButton" Content="─" Click="OnMinimize_Click" FontSize="20" Foreground="White" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                <Button Grid.Column="4" Classes="TitleBarButton Close" Click="OnClose_Click" Content="×" FontSize="20" Foreground="White" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
            </Grid>
            </Border>
    
            <Border Grid.Row="1" Padding="24" Background="#171717">
                <StackPanel Spacing="20">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Путь к папке мода" Tag="KeyWord=MODFOLDER" FontSize="14" Foreground="#CCCCCC"/>
                        <Grid ColumnDefinitions="*, 40">
                            <TextBox Grid.Column="0" Watermark="C:\Users\User\Desktop\HOEMod" x:Name="ModFolderTextBox"/>
                            <Button Grid.Column="1" FontSize="16" Height="32" Width="40" Margin="4,0,0,0" Click="BrowseModFolder_Click">
                                <Image Source="../Assets/folderOpen.png"></Image>
                            </Button>
                        </Grid>
                    </StackPanel>
    
                    <StackPanel Spacing="8">
                        <TextBlock Text="Название zip файла" Tag="KeyWord=ZIPNAME" FontSize="14" Foreground="#CCCCCC"/>
                        <TextBox Watermark="MyMod1.3Pirate.zip" TextChanged="DestZipNameTextBox_OnTextChanged" x:Name="DestZipNameTextBox"/>
                    </StackPanel>
                    
                    <StackPanel Spacing="8">
                        <TextBlock Text="Название .mod файла" Tag="KeyWord=MODFILENAME" FontSize="14" Foreground="#CCCCCC"/>
                        <TextBox Watermark="myMod.mod" x:Name="NewDotModFileName"/>
                    </StackPanel>
    
                    <StackPanel Spacing="8">
                        <TextBlock Text="Выбор нового названия мода" Tag="KeyWord=MODRENAMING" FontSize="14" Foreground="#CCCCCC"/>
                        <ComboBox HorizontalAlignment="Stretch" SelectedIndex="0" SelectionChanged="OnModRenameComboBox_Changed" x:Name="ModRenameCombobox">
                            <ComboBoxItem Tag="KeyWord=ASIS">Оставить прежнее</ComboBoxItem>
                            <ComboBoxItem Tag="KeyWord=CHANGETO">Изменить на...</ComboBoxItem>
                        </ComboBox>
                        <TextBox Watermark="MyMod - Pirate" Margin="0,4,0,0" x:Name="NewModNameTextBox" IsEnabled="False"/>
                    </StackPanel>
    
                    <Button Classes="Primary" Content="Запаковать" Tag="KeyWord=PACK" Click="PackButtonClick" x:Name="PackButton" HorizontalAlignment="Center" Margin="0,20,0,0" Width="200" HorizontalContentAlignment="Center"/>
                </StackPanel>
                
            </Border>
            
            <ProgressBar IsIndeterminate="False" IsVisible="True"
                         Width="450" Height="10" CornerRadius="0"
                         HorizontalAlignment="Center" 
                         VerticalAlignment="Center"
                         Value="0"
                         x:Name="PackingProgressBar" Grid.Row="2" Foreground="#0078D7"/>
            
            <DockPanel Grid.Row="3">
                <TextBlock Text="Made by CLR62" Foreground="#4C4C4C"></TextBlock>
                <TextBlock Text="" x:Name="StatusText" HorizontalAlignment="Right" Foreground="#990C00"></TextBlock>
            </DockPanel>
        </Grid>
        
        <Border Background="#80000000" IsVisible="False" Margin="0,32,0,0" x:Name="SettingsPanel"
                IsHitTestVisible="True">
            <Border Background="#1F1F1F"
                    Width="300" 
                    Height="200"
                    CornerRadius="10"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    BoxShadow="0 1 8 rgba(0,0,0,0.5)">
                
                <StackPanel Margin="20" Spacing="10">
                    <TextBlock Text="Настройки" FontSize="14" Foreground="#CCCCCC"/>
                    <StackPanel Spacing="8">
                        <ComboBox HorizontalAlignment="Stretch" SelectedIndex="0" SelectionChanged="OnLanguageComboboxChanged">
                            <ComboBoxItem>Русский</ComboBoxItem>
                            <ComboBoxItem>English</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>
                    
                    <Button Content="Close" Click="OnCloseSettingClick" Margin="0,60,0,0" Tag="KeyWord=CLOSE" VerticalAlignment="Bottom"></Button>
                </StackPanel>
            </Border>
        </Border>
    </Panel>
</Window>
